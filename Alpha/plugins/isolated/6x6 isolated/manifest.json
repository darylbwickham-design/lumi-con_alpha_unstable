{
  "id": "matrix_relay_6x6_ver",
  "name": "Matrix Relay (6x6 Ver)",
  "version": "1.0.0",
  "author": "You",
  "description": "Receives 0-71 matrix events over HTTP and triggers two alerts (short/long) with 36 key variations each. Uses dynamic.value for EQUAL_SELECTION.",
  "license": "MIT",
  "lumiaVersion": "^9.0.0",
  "category": "apps",
  "config": {
    "settings": [
      {
        "key": "enabled",
        "label": "Enable Listener",
        "type": "toggle",
        "defaultValue": true,
        "helperText": "Turns the HTTP listener on/off."
      },
      {
        "key": "listenPort",
        "label": "Listen Port",
        "type": "number",
        "defaultValue": 8787,
        "helperText": "ESP will POST events to http://<this-pc-ip>:<port>/event"
      },
      {
        "key": "secret",
        "label": "Shared Secret (Optional)",
        "type": "password",
        "defaultValue": "",
        "helperText": "If set, ESP must send header X-Matrix-Secret matching this value."
      }
    ],
    "settings_tutorial": "./settings_tutorial.md",
    "actions_tutorial": "./actions_tutorial.md",
    "actions": [],
    "variables": [
      { "name": "event", "description": "Key index (0-35).", "value": 0 },
      { "name": "kind", "description": "short or long", "value": "" },
      { "name": "received_at", "description": "ISO timestamp of last event.", "value": "" }
    ],
    "alerts": [
      {
        "title": "6x6 short",
        "key": "matrix_6x6_short",
        "acceptedVariables": ["event", "kind", "received_at"],
        "defaultMessage": "",
        "defaults": { "disableBaseAlert": true },
        "variationConditions": [
          {
            "type": "EQUAL_SELECTION",
            "description": "Which Key (0-35). Compares Against dynamic.value.",
            "selections": [
              { "label": "Key 0", "value": "0" },
              { "label": "Key 1", "value": "1" },
              { "label": "Key 2", "value": "2" },
              { "label": "Key 3", "value": "3" },
              { "label": "Key 4", "value": "4" },
              { "label": "Key 5", "value": "5" },
              { "label": "Key 6", "value": "6" },
              { "label": "Key 7", "value": "7" },
              { "label": "Key 8", "value": "8" },
              { "label": "Key 9", "value": "9" },
              { "label": "Key 10", "value": "10" },
              { "label": "Key 11", "value": "11" },
              { "label": "Key 12", "value": "12" },
              { "label": "Key 13", "value": "13" },
              { "label": "Key 14", "value": "14" },
              { "label": "Key 15", "value": "15" },
              { "label": "Key 16", "value": "16" },
              { "label": "Key 17", "value": "17" },
              { "label": "Key 18", "value": "18" },
              { "label": "Key 19", "value": "19" },
              { "label": "Key 20", "value": "20" },
              { "label": "Key 21", "value": "21" },
              { "label": "Key 22", "value": "22" },
              { "label": "Key 23", "value": "23" },
              { "label": "Key 24", "value": "24" },
              { "label": "Key 25", "value": "25" },
              { "label": "Key 26", "value": "26" },
              { "label": "Key 27", "value": "27" },
              { "label": "Key 28", "value": "28" },
              { "label": "Key 29", "value": "29" },
              { "label": "Key 30", "value": "30" },
              { "label": "Key 31", "value": "31" },
              { "label": "Key 32", "value": "32" },
              { "label": "Key 33", "value": "33" },
              { "label": "Key 34", "value": "34" },
              { "label": "Key 35", "value": "35" }
            ]
          }
        ]
      },
      {
        "title": "6x6 long",
        "key": "matrix_6x6_long",
        "acceptedVariables": ["event", "kind", "received_at"],
        "defaultMessage": "",
        "defaults": { "disableBaseAlert": true },
        "variationConditions": [
          {
            "type": "EQUAL_SELECTION",
            "description": "Which Key (0-35). Compares Against dynamic.value.",
            "selections": [
              { "label": "Key 0", "value": "0" },
              { "label": "Key 1", "value": "1" },
              { "label": "Key 2", "value": "2" },
              { "label": "Key 3", "value": "3" },
              { "label": "Key 4", "value": "4" },
              { "label": "Key 5", "value": "5" },
              { "label": "Key 6", "value": "6" },
              { "label": "Key 7", "value": "7" },
              { "label": "Key 8", "value": "8" },
              { "label": "Key 9", "value": "9" },
              { "label": "Key 10", "value": "10" },
              { "label": "Key 11", "value": "11" },
              { "label": "Key 12", "value": "12" },
              { "label": "Key 13", "value": "13" },
              { "label": "Key 14", "value": "14" },
              { "label": "Key 15", "value": "15" },
              { "label": "Key 16", "value": "16" },
              { "label": "Key 17", "value": "17" },
              { "label": "Key 18", "value": "18" },
              { "label": "Key 19", "value": "19" },
              { "label": "Key 20", "value": "20" },
              { "label": "Key 21", "value": "21" },
              { "label": "Key 22", "value": "22" },
              { "label": "Key 23", "value": "23" },
              { "label": "Key 24", "value": "24" },
              { "label": "Key 25", "value": "25" },
              { "label": "Key 26", "value": "26" },
              { "label": "Key 27", "value": "27" },
              { "label": "Key 28", "value": "28" },
              { "label": "Key 29", "value": "29" },
              { "label": "Key 30", "value": "30" },
              { "label": "Key 31", "value": "31" },
              { "label": "Key 32", "value": "32" },
              { "label": "Key 33", "value": "33" },
              { "label": "Key 34", "value": "34" },
              { "label": "Key 35", "value": "35" }
            ]
          }
        ]
      }
    ]
  }
}